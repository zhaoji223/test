<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Examples</title>
    <meta name='viewport' content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no' />
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link href="" rel="stylesheet">
</head>

<body>
    <canvas id='myCanvas' width="300" height="300" onmouseenter='drawPixels()' onmouseleave='drawImage()'></canvas>
    <script>
        let canvas = document.getElementById('myCanvas');
        let ctx = canvas.getContext('2d');
        let image = new Image();
        let pixels = [];
        let imageData;
        image.src = './img/logo.png';
        image.width = 300;
        image.height = 300;
        let img = new Image()
        img.src = './img/xibinya1.jpg'
        img.width = 50
        img.height = 50
        image.onload = function() {
            ctx.drawImage(image,(canvas.width-image.width)/2,(canvas.height-image.height)/2,image.width,image.height);
            img.onload = function() {
                circleImg(ctx, img, 100, 100, 50)
            }
        }
        
        // x, y 圆心坐标,  r 半径
        function circleImg(ctx, img, x, y, r) {
            ctx.save();
            var d =2 * r;
            var cx = x + r;
            var cy = y + r;
            ctx.arc(cx, cy, r, 0, 2 * Math.PI);
            ctx.clip();
            ctx.drawImage(img, x, y, d, d);
            ctx.restore();
        }
    </script>
</body>

</html>
